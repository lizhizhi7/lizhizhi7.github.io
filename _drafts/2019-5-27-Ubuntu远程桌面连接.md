---
layout:     post
title:      Linux下FTP的搭建与配置
subtitle:   Linux Server
date:       2019-3-31
author:     Lee
header-img: img/background-centos.png
catalog: true
tags:
    - Linux
    - Ubuntu
---

### 安装 xrdp、tightvncserver

```Bash
sudo apt-get install tightvncserver xrdp
```

### 安装xubuntu-desktop

```Bash
sudo apt-get install xubuntu-desktop
```

### 修改配置文件

```Bash
echo xfce4-session >~/.xsession
sudo vi /etc/xrdp/startwm.sh
```

加入"xfce4-session"

```Bash
xfce4-session
test -x /etc/X11/XSession && exec /etc/X11/Xsession
exec /bin/bash /etc/X11/XSession
```

在/etc/X11/Xsession文件最上方加入"xfce4-session"
重启xdrp服务使其生效

```Bash
sudo service xrdp restart
```

### 授权其他用户登录

默认情况下， 只有root用户可以登录，通过修改root用户目录下的.ICEauthority文件权限后，可授权其他用户登录

```Bash
chmod 666 ~/ICEauthority
```

### 登录

通过windows自带的mstsc可以进行登录
> 如果需要通过外网访问登录，需映射出3389及3050两个端口。比如将 3389 -> 53389, 3050 -> 53050